{
  "name": "TeamMemory",
  "type": "object",
  "properties": {
    "query_pattern": {
      "type": "string",
      "description": "Common query pattern"
    },
    "best_query": {
      "type": "string",
      "description": "Most effective version of this query"
    },
    "saved_query": {
      "type": "string"
    },
    "generated_mongo_query": {
      "type": "string"
    },
    "selected_documents": {
      "type": "number"
    },
    "user_id": {
      "type": "string"
    },
    "user_email": {
      "type": "string"
    },
    "notes": {
      "type": "string"
    },
    "comments": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "is_pinned": {
      "type": "boolean",
      "default": false
    },
    "team": {
      "type": "string",
      "description": "Team name"
    },
    "success_rate": {
      "type": "number",
      "description": "Success rate percentage"
    },
    "usage_count": {
      "type": "number",
      "default": 0
    },
    "expert_user": {
      "type": "string",
      "description": "Email of the expert who originated this pattern"
    },
    "category": {
      "type": "string",
      "enum": [
        "common",
        "expert",
        "onboarding",
        "specialized"
      ],
      "default": "common"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  },
  "required": [
    "query_pattern",
    "best_query"
  ]
}