{
  "name": "SearchQuery",
  "type": "object",
  "properties": {
    "query_text": {
      "type": "string",
      "description": "The original search query"
    },
    "processed_query": {
      "type": "string",
      "description": "Preprocessed/normalized query"
    },
    "intent": {
      "type": "string",
      "enum": [
        "lookup",
        "comparison",
        "exploration",
        "analysis",
        "troubleshooting",
        "unknown"
      ],
      "description": "Detected query intent"
    },
    "result_count": {
      "type": "number",
      "description": "Number of results returned"
    },
    "top_result_ids": {
      "type": "string",
      "description": "JSON array of top result document IDs"
    },
    "similarity_scores": {
      "type": "string",
      "description": "JSON array of similarity scores"
    },
    "was_successful": {
      "type": "boolean",
      "description": "Whether the user found what they were looking for"
    },
    "search_mode": {
      "type": "string",
      "enum": [
        "semantic",
        "keyword",
        "hybrid"
      ],
      "default": "semantic"
    },
    "response_time_ms": {
      "type": "number",
      "description": "Search response time in milliseconds"
    },
    "feedback_rating": {
      "type": "number",
      "description": "User rating 1-5"
    },
    "feedback_text": {
      "type": "string",
      "description": "User feedback comment"
    },
    "session_id": {
      "type": "string",
      "description": "Session identifier for grouping queries"
    }
  },
  "required": [
    "query_text"
  ]
}